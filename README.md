# PCM - Pickleball Club Management System

Há»‡ thá»‘ng quáº£n lÃ½ cÃ¢u láº¡c bá»™ Pickleball toÃ n diá»‡n, há»— trá»£ quáº£n lÃ½ thÃ nh viÃªn, Ä‘áº·t sÃ¢n, tá»• chá»©c giáº£i Ä‘áº¥u vÃ  quáº£n lÃ½ tÃ i chÃ­nh.

## ğŸ“‹ Tá»•ng quan

PCM (Pickleball Club Management) lÃ  má»™t giáº£i phÃ¡p quáº£n lÃ½ cÃ¢u láº¡c bá»™ thá»ƒ thao chuyÃªn nghiá»‡p, Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i kiáº¿n trÃºc Full-stack hiá»‡n Ä‘áº¡i. Há»‡ thá»‘ng giÃºp tá»± Ä‘á»™ng hÃ³a cÃ¡c quy trÃ¬nh quáº£n lÃ½, tá»« Ä‘áº·t sÃ¢n, tá»• chá»©c thÃ¡ch Ä‘áº¥u, theo dÃµi tráº­n Ä‘áº¥u Ä‘áº¿n quáº£n lÃ½ tÃ i chÃ­nh cÃ¢u láº¡c bá»™.

## âœ¨ TÃ­nh nÄƒng chÃ­nh

### ğŸ  Dashboard
- Thá»‘ng kÃª tá»•ng quan: sá»‘ lÆ°á»£ng thÃ nh viÃªn, giáº£i Ä‘áº¥u Ä‘ang má»Ÿ, tin tá»©c
- Báº£ng xáº¿p háº¡ng top thÃ nh viÃªn theo rank vÃ  tá»· lá»‡ tháº¯ng
- Danh sÃ¡ch giáº£i Ä‘áº¥u sáº¯p diá»…n ra
- Tin tá»©c vÃ  thÃ´ng bÃ¡o quan trá»ng

### ğŸ‘¥ Quáº£n lÃ½ thÃ nh viÃªn
- ÄÄƒng kÃ½ vÃ  xÃ¡c thá»±c tÃ i khoáº£n (JWT Authentication)
- Quáº£n lÃ½ thÃ´ng tin cÃ¡ nhÃ¢n: há» tÃªn, email, sá»‘ Ä‘iá»‡n thoáº¡i, ngÃ y sinh
- Theo dÃµi xáº¿p háº¡ng cÃ¡ nhÃ¢n (Rank Level)
- Lá»‹ch sá»­ thi Ä‘áº¥u vÃ  thá»‘ng kÃª (tá»•ng tráº­n, sá»‘ tráº­n tháº¯ng, tá»· lá»‡ tháº¯ng)
- Danh sÃ¡ch thÃ nh viÃªn vá»›i phÃ¢n trang vÃ  tÃ¬m kiáº¿m

### ğŸ¾ Quáº£n lÃ½ sÃ¢n Ä‘áº¥u
- Danh sÃ¡ch cÃ¡c sÃ¢n Ä‘áº¥u vá»›i mÃ´ táº£ chi tiáº¿t
- Tráº¡ng thÃ¡i hoáº¡t Ä‘á»™ng cá»§a tá»«ng sÃ¢n
- Xem lá»‹ch Ä‘áº·t sÃ¢n theo tuáº§n (Calendar View)
- Kiá»ƒm tra khung giá» cÃ²n trá»‘ng

### ğŸ“… Äáº·t sÃ¢n
- Äáº·t sÃ¢n trá»±c tuyáº¿n vá»›i chá»n ngÃ y giá» linh hoáº¡t
- Kiá»ƒm tra khung giá» kháº£ dá»¥ng (Available Slots)
- Xem lá»‹ch sá»­ Ä‘áº·t sÃ¢n cÃ¡ nhÃ¢n
- Quáº£n lÃ½ tráº¡ng thÃ¡i booking: Confirmed, Pending, Cancelled
- Ghi chÃº cho má»—i láº§n Ä‘áº·t sÃ¢n
- Xem lá»‹ch Ä‘áº·t sÃ¢n toÃ n cÃ¢u láº¡c bá»™ theo tuáº§n

### ğŸ† Giáº£i Ä‘áº¥u & ThÃ¡ch Ä‘áº¥u
- Táº¡o vÃ  quáº£n lÃ½ cÃ¡c giáº£i Ä‘áº¥u/thÃ¡ch Ä‘áº¥u
- PhÃ¢n loáº¡i theo loáº¡i hÃ¬nh: Tournament, FriendlyMatch, RankedMatch
- Cáº¥u hÃ¬nh Ä‘á»‹nh dáº¡ng tráº­n Ä‘áº¥u: Singles (Ä‘Æ¡n), Doubles (Ä‘Ã´i)
- Quáº£n lÃ½ phÃ­ tham gia vÃ  giáº£i thÆ°á»Ÿng
- Theo dÃµi sá»‘ lÆ°á»£ng ngÆ°á»i tham gia vÃ  tráº¡ng thÃ¡i
- Tráº¡ng thÃ¡i giáº£i: Open, Ongoing, Completed, Cancelled
- ÄÄƒng kÃ½ tham gia vÃ  thanh toÃ¡n phÃ­ tham gia
- Chá»n Ä‘á»™i vÃ  Ä‘á»‘i tÃ¡c (cho doubles)

### ğŸ¯ Quáº£n lÃ½ tráº­n Ä‘áº¥u
- Ghi nháº­n káº¿t quáº£ tráº­n Ä‘áº¥u
- Há»— trá»£ cáº£ tráº­n ranked vÃ  friendly
- LiÃªn káº¿t vá»›i giáº£i Ä‘áº¥u
- XÃ¡c Ä‘á»‹nh Ä‘á»™i chiáº¿n tháº¯ng (Team1, Team2, Draw)
- Tá»± Ä‘á»™ng cáº­p nháº­t thá»‘ng kÃª thÃ nh viÃªn

### ğŸ’° Quáº£n lÃ½ tÃ i chÃ­nh
- VÃ­ Ä‘iá»‡n tá»­ cho má»—i thÃ nh viÃªn
- Lá»‹ch sá»­ giao dá»‹ch chi tiáº¿t
- PhÃ¢n loáº¡i thu chi theo danh má»¥c:
  - **Thu nháº­p**: PhÃ­ thÃ nh viÃªn, PhÃ­ Ä‘áº·t sÃ¢n, TÃ i trá»£, Tiá»n thÆ°á»Ÿng giáº£i Ä‘áº¥u, Thu khÃ¡c
  - **Chi phÃ­**: Mua thiáº¿t bá»‹, Chi phÃ­ sÃ¢n, Giáº£i thÆ°á»Ÿng, Hoáº¡t Ä‘á»™ng CLB, Chi khÃ¡c
- BÃ¡o cÃ¡o tÃ i chÃ­nh vá»›i phÃ¢n trang
- Ghi chÃº ngÆ°á»i táº¡o vÃ  mÃ´ táº£ giao dá»‹ch

### ğŸ“° Tin tá»©c & ThÃ´ng bÃ¡o
- ÄÄƒng vÃ  quáº£n lÃ½ tin tá»©c cÃ¢u láº¡c bá»™
- Ghim tin quan trá»ng lÃªn Ä‘áº§u
- HÃ¬nh áº£nh minh há»a cho tá»«ng bÃ i viáº¿t
- PhÃ¢n trang vÃ  sáº¯p xáº¿p theo thá»i gian

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

### Backend (PCM.Api)
- **Framework**: ASP.NET Core 8.0 (C# .NET)
- **ORM**: Entity Framework Core 9.0.1 (Code-First)
- **Database**: SQL Server (LocalDB hoáº·c SQL Server Express)
- **Authentication**: JWT Bearer Token vá»›i Identity Framework
- **API Style**: RESTful API
- **Architecture**: Layered Architecture (Controllers, Data, Models, DTOs, Services)

### Frontend (PCM.Web)
- **Framework**: Vue.js 3 (Composition API)
- **Build Tool**: Vite
- **State Management**: Pinia Stores
- **Routing**: Vue Router
- **HTTP Client**: Axios
- **UI**: Custom Components vá»›i CSS/SCSS

### Database Tables
- `AspNetUsers`, `AspNetRoles`, `AspNetUserRoles` - Quáº£n lÃ½ xÃ¡c thá»±c
- `025_Members` - ThÃ´ng tin thÃ nh viÃªn
- `025_Courts` - Danh sÃ¡ch sÃ¢n
- `025_Bookings` - Lá»‹ch Ä‘áº·t sÃ¢n
- `025_Challenges` - Giáº£i Ä‘áº¥u/thÃ¡ch Ä‘áº¥u
- `025_Participants` - NgÆ°á»i tham gia giáº£i Ä‘áº¥u
- `025_Matches` - Tráº­n Ä‘áº¥u
- `025_WalletTransactions` - Giao dá»‹ch tÃ i chÃ­nh
- `025_News` - Tin tá»©c

## ğŸš€ HÆ°á»›ng dáº«n cÃ i Ä‘áº·t

### YÃªu cáº§u há»‡ thá»‘ng
- .NET 8.0 SDK
- Node.js 18+ vÃ  npm/yarn
- SQL Server 2019+ hoáº·c SQL Server Express
- Visual Studio Code hoáº·c Visual Studio 2022

### CÃ i Ä‘áº·t Backend

1. **Clone repository vÃ  di chuyá»ƒn vÃ o thÆ° má»¥c backend**
```bash
cd PCM.Api/PCM.Api
```

2. **Cáº¥u hÃ¬nh connection string**

Má»Ÿ file `appsettings.json` vÃ  cáº­p nháº­t connection string:
```json
{
  "ConnectionStrings": {
    "DefaultConnection": "Server=YOUR_SERVER;Database=PCM_DB;Trusted_Connection=True;TrustServerCertificate=True"
  }
}
```

3. **Restore packages**
```bash
dotnet restore
```

4. **Cháº¡y migrations Ä‘á»ƒ táº¡o database**
```bash
dotnet ef database update
```

5. **Cháº¡y backend server**
```bash
dotnet run
```

Backend sáº½ cháº¡y táº¡i: `http://localhost:5003`

### CÃ i Ä‘áº·t Frontend

1. **Di chuyá»ƒn vÃ o thÆ° má»¥c frontend**
```bash
cd PCM.Web
```

2. **CÃ i Ä‘áº·t dependencies**
```bash
npm install
```

3. **Cáº¥u hÃ¬nh API endpoint**

Má»Ÿ file `src/config/app.config.js` vÃ  kiá»ƒm tra API URL:
```javascript
export const API_BASE_URL = 'http://localhost:5003/api'
```

4. **Cháº¡y development server**
```bash
npm run dev
```

Frontend sáº½ cháº¡y táº¡i: `http://localhost:5173`

## ğŸ“Š Dá»¯ liá»‡u máº«u

Há»‡ thá»‘ng tá»± Ä‘á»™ng táº¡o dá»¯ liá»‡u máº«u khi khá»Ÿi Ä‘á»™ng láº§n Ä‘áº§u:
- **Admin account**: `admin@pcm.com` / `Admin@123`
- **25 thÃ nh viÃªn máº«u**: `member1@pcm.com` Ä‘áº¿n `member25@pcm.com` / `Member@123`
- **3 sÃ¢n Ä‘áº¥u**: SÃ¢n 1, SÃ¢n 2, SÃ¢n 3
- **8 lÆ°á»£t Ä‘áº·t sÃ¢n** vá»›i thá»i gian khÃ¡c nhau
- **5 giáº£i Ä‘áº¥u** vá»›i tráº¡ng thÃ¡i Open vÃ  Ongoing
- **10 tráº­n Ä‘áº¥u** vá»›i káº¿t quáº£ máº«u
- **4 giao dá»‹ch tÃ i chÃ­nh** (thu/chi)
- **2 bÃ i tin tá»©c**

## ğŸ” XÃ¡c thá»±c vÃ  PhÃ¢n quyá»n

Há»‡ thá»‘ng sá»­ dá»¥ng JWT Authentication vá»›i 2 vai trÃ²:
- **Admin**: Quáº£n lÃ½ toÃ n bá»™ há»‡ thá»‘ng
- **Member**: ThÃ nh viÃªn cÃ¢u láº¡c bá»™

### API Endpoints chÃ­nh

#### Authentication
- `POST /api/auth/register` - ÄÄƒng kÃ½ tÃ i khoáº£n má»›i
- `POST /api/auth/login` - ÄÄƒng nháº­p

#### Members
- `GET /api/members` - Danh sÃ¡ch thÃ nh viÃªn (phÃ¢n trang)
- `GET /api/members/{id}` - Chi tiáº¿t thÃ nh viÃªn
- `GET /api/members/leaderboard` - Báº£ng xáº¿p háº¡ng

#### Courts
- `GET /api/courts` - Danh sÃ¡ch sÃ¢n

#### Bookings
- `POST /api/bookings` - Táº¡o booking má»›i
- `GET /api/bookings` - Danh sÃ¡ch táº¥t cáº£ booking
- `GET /api/bookings/my-bookings` - Booking cá»§a tÃ´i
- `GET /api/bookings/available-slots` - Khung giá» cÃ²n trá»‘ng
- `GET /api/bookings/calendar` - Lá»‹ch Ä‘áº·t sÃ¢n theo tuáº§n

#### Challenges
- `GET /api/challenges` - Danh sÃ¡ch giáº£i Ä‘áº¥u
- `POST /api/challenges` - Táº¡o giáº£i Ä‘áº¥u má»›i
- `POST /api/challenges/{id}/join` - Tham gia giáº£i Ä‘áº¥u

#### Matches
- `GET /api/matches` - Danh sÃ¡ch tráº­n Ä‘áº¥u
- `POST /api/matches` - Ghi nháº­n tráº­n Ä‘áº¥u má»›i

#### Transactions
- `GET /api/transactions` - Lá»‹ch sá»­ giao dá»‹ch
- `POST /api/transactions` - Táº¡o giao dá»‹ch má»›i
- `GET /api/transaction-categories` - Danh má»¥c thu chi

#### News
- `GET /api/news` - Danh sÃ¡ch tin tá»©c
- `GET /api/news/{id}` - Chi tiáº¿t tin tá»©c
- `POST /api/news` - ÄÄƒng tin tá»©c má»›i

## ğŸ“ Cáº¥u trÃºc thÆ° má»¥c

```
PCM.Api/
â”œâ”€â”€ PCM.Api/
â”‚   â”œâ”€â”€ Controllers/        # API Controllers
â”‚   â”œâ”€â”€ Data/              # DbContext vÃ  Database Initializer
â”‚   â”œâ”€â”€ DTOs/              # Data Transfer Objects
â”‚   â”œâ”€â”€ Enums/             # Enumerations
â”‚   â”œâ”€â”€ Migrations/        # EF Core Migrations
â”‚   â”œâ”€â”€ Models/            # Domain Models
â”‚   â”œâ”€â”€ Services/          # Business Logic Services
â”‚   â””â”€â”€ Program.cs         # Entry point

PCM.Web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/              # API service calls
â”‚   â”œâ”€â”€ assets/           # Static assets
â”‚   â”œâ”€â”€ components/       # Vue components
â”‚   â”œâ”€â”€ config/           # App configuration
â”‚   â”œâ”€â”€ layouts/          # Layout components
â”‚   â”œâ”€â”€ router/           # Vue Router config
â”‚   â”œâ”€â”€ stores/           # Pinia stores
â”‚   â”œâ”€â”€ views/            # Page views
â”‚   â””â”€â”€ main.js           # Entry point
```

## ğŸ› Troubleshooting

### Backend khÃ´ng káº¿t ná»‘i Ä‘Æ°á»£c database
- Kiá»ƒm tra SQL Server Ä‘Ã£ cháº¡y chÆ°a
- XÃ¡c nháº­n connection string trong `appsettings.json`
- Cháº¡y láº¡i `dotnet ef database update`

### Frontend khÃ´ng gá»i Ä‘Æ°á»£c API
- Kiá»ƒm tra backend Ä‘Ã£ cháº¡y á»Ÿ port 5003
- Xem láº¡i cáº¥u hÃ¬nh CORS trong `Program.cs`
- Kiá»ƒm tra API_BASE_URL trong `app.config.js`

### Lá»—i Authentication
- XÃ³a token cÅ© trong localStorage
- ÄÄƒng nháº­p láº¡i
- Kiá»ƒm tra JWT configuration trong backend

## ğŸ“ Ghi chÃº Migration

Há»‡ thá»‘ng sá»­ dá»¥ng Entity Framework Code-First Migrations. CÃ¡c migration files:
- `InitIdentity` - Táº¡o báº£ng Identity
- `AddCoreTables` - Táº¡o báº£ng Members, Courts, Bookings
- `AddChallenges` - ThÃªm báº£ng Challenges vÃ  Participants
- `FixParticipantCascade` - Fix cascading delete
- `AddWalletRelation` - ThÃªm quan há»‡ Wallet
- `AddPrizeAndStatus` - ThÃªm trÆ°á»ng Prize vÃ  Status
- `AddMatchesTable` - Táº¡o báº£ng Matches

## ğŸ‘¨â€ğŸ’» PhÃ¡t triá»ƒn thÃªm

### TÃ­nh nÄƒng cÃ³ thá»ƒ má»Ÿ rá»™ng
- [ ] Chat/Messaging giá»¯a thÃ nh viÃªn
- [ ] Booking recurring (Ä‘áº·t sÃ¢n Ä‘á»‹nh ká»³)
- [ ] Payment gateway integration
- [ ] Mobile app (React Native/Flutter)
- [ ] Email notifications
- [ ] BÃ¡o cÃ¡o vÃ  thá»‘ng kÃª nÃ¢ng cao
- [ ] Tournament bracket visualization
- [ ] Live scoring system

## ğŸ“„ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¡t triá»ƒn cho má»¥c Ä‘Ã­ch há»c táº­p vÃ  nghiÃªn cá»©u.

## ğŸ“§ LiÃªn há»‡

Náº¿u cÃ³ cÃ¢u há»i hoáº·c gÃ³p Ã½, vui lÃ²ng liÃªn há»‡ qua email hoáº·c táº¡o issue trÃªn repository.

---

**PhiÃªn báº£n**: 1.0.0  
**NgÃ y cáº­p nháº­t**: 30/01/2026
